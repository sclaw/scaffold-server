create table edgenode.provider_branch (
  id bigserial primary key,
  title text not null,
  country text not null,
  address text not null,
  is_hq bool not null default false,
  created timestamptz not null default now(),
  modified timestamptz,
  deleted timestamptz,
  is_deleted bool not null default false,
  provider_fk int8 not null constraint "provider_branch_provider_id_fk" 
  references edgenode.provider(id)
  image_fk int8 not null constraint "provider_branch_image_id_fk" references storage.file(id));

create table edgenode.provider_branch_journal (
  user_fk int8 not null constraint "provider_branch_journal_user_id_fk" 
  references auth.user(id),
  provider_branch_fk int8 not null constraint "provider_branch_journal_provider_branch_id_fk" 
  references edgenode.provider_branch(id),
  diff jsonb not null,
  created timestamptz not null default now());

created table edgenode.provider_branch_file (
  provider_branch_fk int8 not null constraint "provider_branch_file_provider_branch_id_fk" 
  references edgenode.provider_branch(id),
  file_fk int8 not null constraint "provider_branch_file_file_id_fk" references storage.file(id));

create table edgenode.provider_branch_public ();